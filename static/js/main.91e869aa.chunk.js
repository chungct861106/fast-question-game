(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{208:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(37),c=a.n(s),u=a(11),i=a.n(u),o=a(24),l=a(29),p=a(38),m=a.n(p),f=a(294),h=a(77),d=n.a.createContext(null);var b=function(e){var t=e.children,a=Object(r.useState)({}),s=Object(l.a)(a,2),c=s[0],u=s[1],p=Object(r.useState)(!1),b=Object(l.a)(p,2),v=b[0],E=b[1],w=Object(f.a)(["userInfo"]),y=Object(l.a)(w,3),x=y[0],k=y[1],O=y[2],g=function(){var e=Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.userInfo||!x.userInfo.user_token){e.next=12;break}return e.prev=1,e.next=4,m.a.get("https://shousolab.herokuapp.com/user/checkToken",{params:{token:x.userInfo.user_token}});case 4:200===e.sent.status&&(u(x.userInfo),setTimeout(function(){E(!0)},100)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),E(!1),O("userInfo");case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}();Object(h.useEffect)(function(){g()},[]);var j={userInfo:c,isLogin:v,login:function(e){u(e),k("userInfo",e),E(!0)},logout:function(){u({}),O("userInfo"),E(!1)}};return n.a.createElement(d.Provider,{value:j},t)};function v(){return Object(r.useContext)(d)}var E=a(10),w=a(44),y=(a(240),a(289)),x=a(63),k=a(207),O=a(293),g=a(211),j=a(290),I=a(209),q=a(62),C=a(117),A=function e(t){Object(C.a)(this,e),this.token=t,this.server="https://shousolab.herokuapp.com"};A.prototype.Create=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(this.server+"/question/create",t,{headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),A.prototype.Update=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(this.server+"/question/update",t,{headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),A.prototype.GetQuestions=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get(this.server+"/question/data",{params:t,headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),A.prototype.GetReviews=Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get(this.server+"/question/reviews",{headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])})),A.prototype.Delete=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.delete(this.server+"/question/delete",{params:t,headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),A.prototype.GiveRate=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(this.server+"/rate",t,{headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}();var S=A,L=function e(t){Object(C.a)(this,e),this.token=t,this.server="https://shousolab.herokuapp.com"};L.prototype.Login=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.put(this.server+"/user/login",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),L.prototype.Create=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(this.server+"/user/create",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),L.prototype.Active=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(this.server+"/user/active",{},{headers:{Authorization:t}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),L.prototype.GetUsers=Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get(this.server+"/user/data",{headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])})),L.prototype.Remind=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.put(this.server+"/user/remind",{email:t});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),L.prototype.Resend=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.put(this.server+"/user/resend",{email:t});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}();var F=L;var R=function(){var e=v().userInfo;return{services:{user:new F(e.user_token),question:new S(e.user_token)}}},_=a(166),N=y.a.Content;var Q=function(){var e=O.a.useForm(),t=Object(l.a)(e,1)[0],a=R().services,r=v().login,s=function(){var e=Object(o.a)(i.a.mark(function e(t){var n,s,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,s=t.password,e.next=3,a.user.Login({email:n,password:s});case 3:if(200!==(u=e.sent).status){e.next=8;break}return r(u.data.data),c.push("/dashboard"),e.abrupt("return");case 8:g.b.error(u.data.data);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),c=Object(E.useHistory)();return n.a.createElement(N,null,n.a.createElement(j.a,{className:"center-vertical"},n.a.createElement("h1",{style:{textAlign:"center"}},"\u8aaa\u8aaa Lab"),n.a.createElement("img",{src:"https://solab-ntu.github.io/rw_common/images/rwsitelogo.png",style:{height:"100px",width:"200px"},alt:""})),n.a.createElement(j.a,{className:"center-vertical"},n.a.createElement(O.a,{form:t,layout:"vertical",style:{width:350},title:"\u8aaa\u8aaa Lab",onFinish:s},n.a.createElement(O.a.Item,{label:"\u4fe1\u7bb1",name:"email",rules:[{required:!0,message:"Email is required"}]},n.a.createElement(I.a,null)),n.a.createElement(O.a.Item,{label:"\u5bc6\u78bc",name:"password",rules:[{required:!0,message:"Password is required"}]},n.a.createElement(I.a.Password,null)),n.a.createElement(q.a,{type:"primary",style:{width:"100%"},onClick:function(){return t.submit()}},"\u767b\u5165"),n.a.createElement(q.a,{type:"primary",style:{width:"100%",marginTop:15,marginBottom:15},onClick:function(){return c.push("/signup")}},"\u8a3b\u518a\u5e33\u865f"),n.a.createElement(_.NavLink,{to:"/remind"},"\u6211\u662f\u5317\u4e03\u6211\u5fd8\u8a18\u5bc6\u78bc"))))},P=a(296),G=y.a.Content;var z=function(){var e=O.a.useForm(),t=Object(l.a)(e,1)[0],a=R().services,r=function(){var e=Object(o.a)(i.a.mark(function e(r){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.user.Create(r);case 2:if(200!==(n=e.sent).status){e.next=6;break}return g.b.success("\u9a57\u8b49\u4fe1\u5df2\u5bc4\u51fa"),e.abrupt("return");case 6:t.setFields(n.data.data);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),s=Object(E.useHistory)();return n.a.createElement(G,null,n.a.createElement(j.a,{className:"center-left"},n.a.createElement(P.a,null,n.a.createElement(P.a.Separator,null),n.a.createElement(P.a.Item,{onClick:function(){return s.push("/")}},"\u8fd4\u56de\u767b\u5165\u9801\u9762"))),n.a.createElement(j.a,{className:"center-vertical"},n.a.createElement("h1",{style:{textAlign:"center"}},"\u8aaa\u8aaa Lab"),n.a.createElement("img",{src:"https://solab-ntu.github.io/rw_common/images/rwsitelogo.png",style:{height:"100px",width:"200px"},alt:""})),n.a.createElement(j.a,{className:"center-vertical"},n.a.createElement(O.a,{layout:"vertical",form:t,title:"SOLab Login",style:{width:350},onFinish:r},n.a.createElement(O.a.Item,{name:"email",label:"\u4fe1\u7bb1",rules:[{type:"email",message:"\u4fe1\u7bb1\u683c\u5f0f\u6709\u8aa4"},{required:!0,message:"\u8acb\u8f38\u5165\u4f60\u7684\u4fe1\u7bb1"}]},n.a.createElement(I.a,null)),n.a.createElement(O.a.Item,{name:"password",label:"\u5bc6\u78bc",rules:[{required:!0,message:"\u8acb\u8f38\u5165\u4f60\u7684\u5bc6\u78bc"}],hasFeedback:!0},n.a.createElement(I.a.Password,null)),n.a.createElement(O.a.Item,{name:"passwordconfirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u8acb\u8f38\u5165\u4e0a\u65b9\u76f8\u540c\u5bc6\u78bc"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("\u5bc6\u78bc\u4e0d\u76f8\u540c")):Promise.resolve()}}}]},n.a.createElement(I.a.Password,null)),n.a.createElement(O.a.Item,{name:"username",label:"\u540d\u7a31",rules:[{required:!0,message:"\u8acb\u8f38\u5165\u540d\u7a31",whitespace:!0}]},n.a.createElement(I.a,null)),n.a.createElement(q.a,{type:"primary",style:{width:"100%"},onClick:function(){return t.submit()}},"\u8a3b\u518a"),n.a.createElement(q.a,{type:"primary",style:{width:"100%",marginTop:15},onClick:function(){return s.push("/")}},"\u8fd4\u56de\u767b\u5165\u9801\u9762"))))},D=a(291),H=a(292);var T=function(){var e=Object(E.useHistory)(),t=Object(r.useState)([]),a=Object(l.a)(t,2),s=a[0],c=a[1],u=Object(r.useState)([]),p=Object(l.a)(u,2),m=p[0],f=p[1],h=R().services,d=function(){var e=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.user.GetUsers();case 2:200===(t=e.sent).status&&c(t.data.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.question.GetQuestions();case 2:200===(t=e.sent).status&&f(t.data.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d(),b();case 2:case"end":return e.stop()}},e)})),[]);var v=[{dataIndex:"username",title:"\u4f7f\u7528\u8005\u540d\u7a31"},{title:"\u65b0\u589e\u984c\u76ee",render:function(t){var a=t._id,r=t.username;return n.a.createElement(q.a,{onClick:function(){return e.push("/new/".concat(a,"?text=").concat(r))}},"\u65b0\u589e\u984c\u76ee")}}],w=[{title:"\u4f7f\u7528\u8005\u540d\u7a31",width:180,render:function(e){return e.user_id.username}},{title:"\u984c\u76ee",width:300,dataIndex:"title"},{title:"\u5275\u5efa\u6642\u9593",width:180,render:function(e){var t=e.create_time;return new Date(t).toLocaleString()}},{title:"\u7de8\u8f2f\u984c\u76ee",width:180,render:function(t){var a=t._id,r=t.user_id;return n.a.createElement(q.a,{onClick:function(){return e.push("/edit/".concat(a,"?text=").concat(r.username))}},"\u7de8\u8f2f\u984c\u76ee")}}];return n.a.createElement(j.a,{style:{height:"100%"}},n.a.createElement(D.a,{span:6},n.a.createElement(H.a,{title:function(){return n.a.createElement("h3",null,"\u8aaa\u8aaa\u4ed4s")},dataSource:s,columns:v,scroll:{y:700}})),n.a.createElement(D.a,{offset:1,span:16},n.a.createElement(H.a,{title:function(){return n.a.createElement("h3",null,"\u4f60\u7684\u8aaa\u8aaa List")},dataSource:m,columns:w,scroll:{y:700}})))},U=a(90),V=a(107);var B=function(){var e=Object(E.useParams)().userID,t=R().services,a=Object(E.useLocation)().search,s=new URLSearchParams(a).get("text"),c=O.a.useForm(),u=Object(l.a)(c,1)[0],p=Object(E.useHistory)();Object(r.useEffect)(function(){u.setFieldsValue({type:"QA",numbers:2})},[]);var m=Object(h.useState)({isQA:!0}),f=Object(l.a)(m,2),d=f[0],b=f[1],v=function(){var a=Object(o.a)(i.a.mark(function a(r){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.question.Create(Object(U.a)({},r,{user_id:e}));case 2:200===a.sent.status&&(g.b.success("\u63d0\u554f\u6210\u529f"),p.push("/dashboard"));case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}();return n.a.createElement(j.a,{className:"center-vertical"},n.a.createElement(j.a,{className:"center-left"},n.a.createElement(P.a,null,n.a.createElement(P.a.Separator,null),n.a.createElement(P.a.Item,{onClick:function(){return p.push("/dashboard")}},"\u8fd4\u56de\u4e3b\u9801"))),n.a.createElement(j.a,{className:"center-vertical"},n.a.createElement("h1",{style:{textAlign:"center"}},"\u554f: ",s),n.a.createElement(O.a,{form:u,style:{width:600},onFinish:v},n.a.createElement(O.a.Item,{name:"title",label:"\u984c\u76ee",rules:[{required:!0,message:"\u8f38\u5165\u984c\u76ee\u5167\u5bb9"}]},n.a.createElement(I.a,null)),n.a.createElement(O.a.Item,{name:"type",label:"\u9078\u64c7"},n.a.createElement(V.a.Group,{optionType:"button",options:[{label:"\u5feb\u554f\u5feb\u7b54",value:"QA"},{label:"\u6b98\u9177\u4e8c\u9078\u4e00",value:"OP"}],onChange:function(e){return b(function(t){return Object(U.a)({},t,{isQA:"QA"===e.target.value})})}})),!d.isQA&&[1,2].map(function(e){return n.a.createElement(O.a.Item,{label:"\u9078\u9805 ".concat(e),name:"option".concat(e),rules:[{required:!0,message:"\u8f38\u5165\u9078\u9805".concat(e,"\u5167\u5bb9")}]},n.a.createElement(I.a,null))}),n.a.createElement(q.a,{style:{width:"100%"},type:"primary",onClick:function(){return u.submit()}},"\u63d0\u4ea4"))))};var J=function(){var e=Object(E.useParams)().questionID,t=O.a.useForm(),a=Object(l.a)(t,1)[0],s=Object(E.useHistory)(),c=R().services,u=Object(E.useLocation)().search,p=new URLSearchParams(u).get("text"),m=Object(h.useState)({isLoading:!0,isQA:!0}),f=Object(l.a)(m,2),d=f[0],b=f[1];Object(r.useEffect)(Object(o.a)(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.question.GetQuestions({question_id:e});case 2:200===(r=t.sent).status&&(a.setFieldsValue(r.data.data),b({isLoading:!1,isQA:"QA"===r.data.data.type}));case 4:case"end":return t.stop()}},t)})),[]);var v=function(){var t=Object(o.a)(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.question.Update(Object(U.a)({},a,{question_id:e}));case 2:200===t.sent.status&&(g.b.success("\u7de8\u8f2f\u6210\u529f"),s.push("/dashboard"));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(o.a)(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.question.Delete({question_id:e});case 2:200===t.sent.status&&(g.b.info("\u63d0\u554f\u5df2\u522a\u9664"),s.push("/dashboard"));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return n.a.createElement(j.a,{className:"center-vertical"},n.a.createElement(k.a,{spinning:d.isLoading},n.a.createElement(j.a,{className:"center-left"},n.a.createElement(P.a,null,n.a.createElement(P.a.Separator,null),n.a.createElement(P.a.Item,{onClick:function(){return s.push("/")}},"\u8fd4\u56de\u4e3b\u9801"))),n.a.createElement(j.a,{className:"center-vertical"},n.a.createElement("h1",{style:{textAlign:"center"}},"\u554f: ",p),n.a.createElement(O.a,{form:a,style:{width:600},onFinish:v},n.a.createElement(O.a.Item,{name:"title",label:"\u984c\u76ee",rules:[{required:!0,message:"\u8f38\u5165\u984c\u76ee\u5167\u5bb9"}]},n.a.createElement(I.a,null)),n.a.createElement(O.a.Item,{name:"type",label:"\u9078\u64c7"},n.a.createElement(V.a.Group,{optionType:"button",options:[{label:"\u5feb\u554f\u5feb\u7b54",value:"QA"},{label:"\u6b98\u9177\u4e8c\u9078\u4e00",value:"OP"}],onChange:function(e){return b(function(t){return Object(U.a)({},t,{isQA:"QA"===e.target.value})})}})),!d.isQA&&[1,2].map(function(e){return n.a.createElement(O.a.Item,{label:"\u9078\u9805 ".concat(e),name:"option".concat(e),rules:[{required:!0,message:"\u8f38\u5165\u9078\u9805".concat(e,"\u5167\u5bb9")}]},n.a.createElement(I.a,null))}),n.a.createElement(j.a,null,n.a.createElement(D.a,{span:11},n.a.createElement(q.a,{type:"primary",onClick:function(){return a.submit()},style:{width:"100%"}},"\u63d0\u4ea4")),n.a.createElement(D.a,{offset:2,span:11},n.a.createElement(q.a,{type:"primary",onClick:w,style:{width:"100%"},danger:!0},"\u522a\u9664")))))))},M=a(295);var K=function(){var e=R().services,t=[{title:"\u4f7f\u7528\u8005\u540d\u7a31",dataIndex:"username",width:150},{title:"\u984c\u76ee",width:300,render:function(e){return"QA"===e.type?e.title:"".concat(e.title,": 1.").concat(e.option1," 2.").concat(e.option2)}},{title:"\u5275\u5efa\u6642\u9593",width:180,render:function(e){var t=e.create_time;return new Date(t).toLocaleString()}},{title:"\u8a55\u5206",width:180,render:function(t){var a=t._id,r=t.rate;return n.a.createElement(M.a,{defaultValue:r,onChange:function(){var t=Object(o.a)(i.a.mark(function t(r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.question.GiveRate({question_id:a,rate:r});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()})}},{title:"\u7e3d\u8a55",dataIndex:"avarage",width:50}],a=Object(r.useState)(!0),s=Object(l.a)(a,2),c=s[0],u=s[1],p=Object(r.useState)([]),m=Object(l.a)(p,2),f=m[0],h=m[1];return Object(r.useEffect)(Object(o.a)(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.question.GetReviews();case 2:200===(a=t.sent).status&&(h(a.data.data),u(!1));case 4:case"end":return t.stop()}},t)})),[]),n.a.createElement(j.a,null,n.a.createElement(D.a,{span:23},n.a.createElement(H.a,{title:function(){return n.a.createElement("h2",null,"\u8a55\u8ad6\u5340")},loading:c,dataSource:f,columns:t,scroll:{y:400}})))},W=y.a.Content;var X=function(){var e=Object(E.useParams)().token,t=R().services,a=O.a.useForm(),s=Object(l.a)(a,1)[0],c=Object(E.useHistory)(),u=Object(r.useState)({status:"verifying",isLoading:!0}),p=Object(l.a)(u,2),m=p[0],f=p[1];Object(r.useEffect)(Object(o.a)(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.user.Active(e);case 2:if(200!==a.sent.status){a.next=7;break}return g.b.success("\u5e33\u6236\u9a57\u8b49\u6210\u529f"),c.push("/"),a.abrupt("return");case 7:f({status:"failed",isLoading:!1});case 8:case"end":return a.stop()}},a)})),[e]);var h=function(){var e=Object(o.a)(i.a.mark(function e(a){var r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.email,e.next=3,t.user.Resend(r);case 3:if(200!==(n=e.sent).status){e.next=7;break}return g.b.success("\u9a57\u8b49\u4fe1\u5df2\u5bc4\u51fa"),e.abrupt("return");case 7:g.b.error(n.data.data);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(W,null,n.a.createElement(j.a,{className:"center-left"},n.a.createElement(P.a,null,n.a.createElement(P.a.Separator,null),n.a.createElement(P.a.Item,{onClick:function(){return c.push("/")}},"\u8fd4\u56de\u4e3b\u9801"))),n.a.createElement(j.a,{className:"center-vertical"},n.a.createElement(k.a,{spinning:m.isLoading},"failed"===m.status&&n.a.createElement(O.a,{form:s,style:{width:350},onFinish:h},n.a.createElement(O.a.Item,{name:"email",label:"\u4fe1\u7bb1",rules:[{required:!0,message:"\u8acb\u8f38\u4f60\u7684\u4fe1\u7bb1"},{type:"email",message:"\u8f38\u5165\u4fe1\u7bb1\u683c\u5f0f\u932f\u8aa4"}]},n.a.createElement(I.a,null)),n.a.createElement(q.a,{style:{width:"100%"},type:"primary",onClick:function(){return s.submit()}},"\u5bc4\u51fa\u9a57\u8b49\u4fe1")))))},Y=y.a.Content;var Z=function(){var e=R().services,t=O.a.useForm(),a=Object(l.a)(t,1)[0],r=Object(E.useHistory)(),s=function(){var t=Object(o.a)(i.a.mark(function t(a){var r,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.email,t.next=3,e.user.Remind(r);case 3:if(200!==(n=t.sent).status){t.next=7;break}return g.b.success("\u5bc6\u78bc\u4fe1\u5df2\u5bc4\u51fa"),t.abrupt("return");case 7:g.b.error(n.data.data);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return n.a.createElement(Y,null,n.a.createElement(j.a,{className:"center-left"},n.a.createElement(P.a,null,n.a.createElement(P.a.Separator,null),n.a.createElement(P.a.Item,{onClick:function(){return r.push("/")}},"\u8fd4\u56de\u767b\u5165\u9801\u9762"))),n.a.createElement(j.a,{className:"center-vertical"},n.a.createElement(O.a,{form:a,style:{width:350},onFinish:s},n.a.createElement(O.a.Item,{name:"email",label:"\u4fe1\u7bb1",rules:[{required:!0,message:"\u8acb\u8f38\u4f60\u7684\u4fe1\u7bb1"},{type:"email",message:"\u8f38\u5165\u4fe1\u7bb1\u683c\u5f0f\u932f\u8aa4"}]},n.a.createElement(I.a,null)),n.a.createElement(q.a,{style:{width:"100%"},type:"primary",onClick:function(){return a.submit()}},"\u63d0\u4ea4"))))},$=y.a.Content;function ee(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(E.Route,{exact:!0,path:"/"},n.a.createElement(Q,null)),n.a.createElement(E.Route,{exact:!0,path:"/signup"},n.a.createElement(z,null)),n.a.createElement(E.Route,{exact:!0,path:"/verify/:token"},n.a.createElement(X,null)),n.a.createElement(E.Route,{exact:!0,path:"/remind"},n.a.createElement(Z,null)))}function te(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(E.Route,{exact:!0,path:"/dashboard"},n.a.createElement(T,null)),n.a.createElement(E.Route,{exact:!0,path:"/review"},n.a.createElement(K,null)),n.a.createElement(E.Route,{exact:!0,path:"/new/:userID"},n.a.createElement(B,null)),n.a.createElement(E.Route,{exact:!0,path:"/edit/:questionID"},n.a.createElement(J,null)),n.a.createElement(E.Route,null,n.a.createElement(E.Redirect,{to:"/dashboard"})))}var ae=function(){var e=v(),t=e.isLogin,a=e.logout;return n.a.createElement(w.a,null,n.a.createElement(y.a,{style:{height:"100%"}},n.a.createElement(x.a,{theme:"dark",mode:"horizontal"},n.a.createElement(x.a.Item,{key:"1"},n.a.createElement(w.b,{to:t?"/dashboard":"/"},n.a.createElement("h1",{style:{color:"white"}},"SOLab"))),t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(x.a.Item,{key:"2"},n.a.createElement(w.b,{to:"/dashboard"},"\u63d0\u554f\u5340")),n.a.createElement(x.a.Item,{key:"3"},n.a.createElement(w.b,{to:"/review"},"\u8a55\u8ad6\u5340")),n.a.createElement(x.a.Item,{key:"4",style:{position:"absolute",right:0,height:58},onClick:function(){window.location.pathname="/",a()}},"\u767b\u51fa"))),n.a.createElement($,{className:"center-vertical"},n.a.createElement(E.Switch,null,!t&&n.a.createElement(ee,null),t&&n.a.createElement(te,null),n.a.createElement(E.Route,null,n.a.createElement(k.a,null))))))};a(286);var re=function(){return n.a.createElement(b,null,n.a.createElement(ae,null))};c.a.render(n.a.createElement(r.StrictMode,null,n.a.createElement(re,null)),document.getElementById("root"))},216:function(e,t,a){e.exports=a(208)},286:function(e,t,a){}},[[216,2,1]]]);
//# sourceMappingURL=main.91e869aa.chunk.js.map
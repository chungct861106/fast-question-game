(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{207:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(37),c=a.n(s),u=a(11),i=a.n(u),o=a(24),l=a(29),p=a(38),m=a.n(p),f=a(294),h=n.a.createContext(null);var d=function(e){var t=e.children,a=Object(r.useState)({}),s=Object(l.a)(a,2),c=s[0],u=s[1],p=Object(r.useState)(!1),d=Object(l.a)(p,2),b=d[0],v=d[1],E=Object(f.a)(["userInfo"]),w=Object(l.a)(E,3),y=w[0],x=w[1],k=w[2],O=function(){var e=Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.userInfo||!y.userInfo.user_token){e.next=12;break}return e.prev=1,e.next=4,m.a.get("https://shousolab.herokuapp.com/user/checkToken",{params:{token:y.userInfo.user_token}});case 4:200===e.sent.status&&(u(y.userInfo),setTimeout(function(){v(!0)},100)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),v(!1),k("userInfo");case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(function(){O()},[]);var g={userInfo:c,isLogin:b,login:function(e){u(e),x("userInfo",e),v(!0)},logout:function(){u({}),k("userInfo"),v(!1)}};return n.a.createElement(h.Provider,{value:g},t)};function b(){return Object(r.useContext)(h)}var v=a(10),E=a(41),w=(a(239),a(289)),y=a(63),x=a(206),k=a(293),O=a(210),g=a(290),j=a(208),I=a(62),q=a(117),C=function e(t){Object(q.a)(this,e),this.token=t,this.server="https://shousolab.herokuapp.com"};C.prototype.Create=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(this.server+"/question/create",t,{headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),C.prototype.Update=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(this.server+"/question/update",t,{headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),C.prototype.GetQuestions=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get(this.server+"/question/data",{params:t,headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),C.prototype.GetReviews=Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get(this.server+"/question/reviews",{headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])})),C.prototype.Delete=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.delete(this.server+"/question/delete",{params:t,headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),C.prototype.GiveRate=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(this.server+"/rate",t,{headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}();var A=C,S=function e(t){Object(q.a)(this,e),this.token=t,this.server="https://shousolab.herokuapp.com"};S.prototype.Login=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.put(this.server+"/user/login",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),S.prototype.Create=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(this.server+"/user/create",t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),S.prototype.Active=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(this.server+"/user/active",{},{headers:{Authorization:t}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),S.prototype.GetUsers=Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get(this.server+"/user/data",{headers:{Authorization:this.token}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])})),S.prototype.Remind=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.put(this.server+"/user/remind",{email:t});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),S.prototype.Resend=function(){var e=Object(o.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.put(this.server+"/user/resend",{email:t});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}();var L=S;var F=function(){var e=b().userInfo;return{services:{user:new L(e.user_token),question:new A(e.user_token)}}},R=a(166),_=w.a.Content;var N=function(){var e=k.a.useForm(),t=Object(l.a)(e,1)[0],a=F().services,r=b().login,s=function(){var e=Object(o.a)(i.a.mark(function e(t){var n,s,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,s=t.password,e.next=3,a.user.Login({email:n,password:s});case 3:if(200!==(u=e.sent).status){e.next=8;break}return r(u.data.data),c.push("/dashboard"),e.abrupt("return");case 8:O.b.error(u.data.data);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),c=Object(v.useHistory)();return n.a.createElement(_,null,n.a.createElement(g.a,{className:"center-vertical"},n.a.createElement("h1",{style:{textAlign:"center"}},"\u8aaa\u8aaa Lab"),n.a.createElement("img",{src:"https://solab-ntu.github.io/rw_common/images/rwsitelogo.png",style:{height:"100px",width:"200px"},alt:""})),n.a.createElement(g.a,{className:"center-vertical"},n.a.createElement(k.a,{form:t,layout:"vertical",style:{width:350},title:"\u8aaa\u8aaa Lab",onFinish:s},n.a.createElement(k.a.Item,{label:"\u4fe1\u7bb1",name:"email",rules:[{required:!0,message:"Email is required"}]},n.a.createElement(j.a,null)),n.a.createElement(k.a.Item,{label:"\u5bc6\u78bc",name:"password",rules:[{required:!0,message:"Password is required"}]},n.a.createElement(j.a.Password,null)),n.a.createElement(I.a,{type:"primary",style:{width:"100%"},onClick:function(){return t.submit()}},"\u767b\u5165"),n.a.createElement(I.a,{type:"primary",style:{width:"100%",marginTop:15,marginBottom:15},onClick:function(){return c.push("/signup")}},"\u8a3b\u518a\u5e33\u865f"),n.a.createElement(R.NavLink,{to:"/remind"},"\u6211\u662f\u5317\u4e03\u6211\u5fd8\u8a18\u5bc6\u78bc"))))},Q=a(296),P=w.a.Content;var G=function(){var e=k.a.useForm(),t=Object(l.a)(e,1)[0],a=F().services,r=function(){var e=Object(o.a)(i.a.mark(function e(r){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.user.Create(r);case 2:if(200!==(n=e.sent).status){e.next=6;break}return O.b.success("\u9a57\u8b49\u4fe1\u5df2\u5bc4\u51fa"),e.abrupt("return");case 6:t.setFields(n.data.data);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),s=Object(v.useHistory)();return n.a.createElement(P,null,n.a.createElement(g.a,{className:"center-left"},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Separator,null),n.a.createElement(Q.a.Item,{onClick:function(){return s.push("/")}},"\u8fd4\u56de\u767b\u5165\u9801\u9762"))),n.a.createElement(g.a,{className:"center-vertical"},n.a.createElement("h1",{style:{textAlign:"center"}},"\u8aaa\u8aaa Lab"),n.a.createElement("img",{src:"https://solab-ntu.github.io/rw_common/images/rwsitelogo.png",style:{height:"100px",width:"200px"},alt:""})),n.a.createElement(g.a,{className:"center-vertical"},n.a.createElement(k.a,{layout:"vertical",form:t,title:"SOLab Login",style:{width:350},onFinish:r},n.a.createElement(k.a.Item,{name:"email",label:"\u4fe1\u7bb1",rules:[{type:"email",message:"\u4fe1\u7bb1\u683c\u5f0f\u6709\u8aa4"},{required:!0,message:"\u8acb\u8f38\u5165\u4f60\u7684\u4fe1\u7bb1"}]},n.a.createElement(j.a,null)),n.a.createElement(k.a.Item,{name:"password",label:"\u5bc6\u78bc",rules:[{required:!0,message:"\u8acb\u8f38\u5165\u4f60\u7684\u5bc6\u78bc"}],hasFeedback:!0},n.a.createElement(j.a.Password,null)),n.a.createElement(k.a.Item,{name:"passwordconfirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u8acb\u8f38\u5165\u4e0a\u65b9\u76f8\u540c\u5bc6\u78bc"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("\u5bc6\u78bc\u4e0d\u76f8\u540c")):Promise.resolve()}}}]},n.a.createElement(j.a.Password,null)),n.a.createElement(k.a.Item,{name:"username",label:"\u540d\u7a31",rules:[{required:!0,message:"\u8acb\u8f38\u5165\u540d\u7a31",whitespace:!0}]},n.a.createElement(j.a,null)),n.a.createElement(I.a,{type:"primary",style:{width:"100%"},onClick:function(){return t.submit()}},"\u8a3b\u518a"),n.a.createElement(I.a,{type:"primary",style:{width:"100%",marginTop:15},onClick:function(){return s.push("/")}},"\u8fd4\u56de\u767b\u5165\u9801\u9762"))))},z=a(291),D=a(292);var H=function(){var e=Object(v.useHistory)(),t=Object(r.useState)([]),a=Object(l.a)(t,2),s=a[0],c=a[1],u=Object(r.useState)([]),p=Object(l.a)(u,2),m=p[0],f=p[1],h=F().services,d=function(){var e=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.user.GetUsers();case 2:200===(t=e.sent).status&&c(t.data.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.question.GetQuestions();case 2:200===(t=e.sent).status&&f(t.data.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d(),b();case 2:case"end":return e.stop()}},e)})),[]);var E=[{dataIndex:"username",title:"\u4f7f\u7528\u8005\u540d\u7a31"},{title:"\u65b0\u589e\u984c\u76ee",render:function(t){var a=t._id,r=t.username;return n.a.createElement(I.a,{onClick:function(){return e.push("/new/".concat(a,"?text=").concat(r))}},"\u65b0\u589e\u984c\u76ee")}}],w=[{title:"\u4f7f\u7528\u8005\u540d\u7a31",width:180,render:function(e){return e.user_id.username}},{title:"\u984c\u76ee",width:300,dataIndex:"title"},{title:"\u5275\u5efa\u6642\u9593",width:180,render:function(e){var t=e.create_time;return new Date(t).toLocaleString()}},{title:"\u7de8\u8f2f\u984c\u76ee",width:180,render:function(t){var a=t._id,r=t.user_id;return n.a.createElement(I.a,{onClick:function(){return e.push("/edit/".concat(a,"?text=").concat(r.username))}},"\u7de8\u8f2f\u984c\u76ee")}}];return n.a.createElement(g.a,{style:{height:"100%"}},n.a.createElement(z.a,{span:6},n.a.createElement(D.a,{title:function(){return n.a.createElement("h3",null,"\u8aaa\u8aaa\u4ed4s")},dataSource:s,columns:E,scroll:{y:700}})),n.a.createElement(z.a,{offset:1,span:16},n.a.createElement(D.a,{title:function(){return n.a.createElement("h3",null,"\u4f60\u7684\u8aaa\u8aaa List")},dataSource:m,columns:w,scroll:{y:700}})))},T=a(89),U=a(107),V=a(105);var B=function(){var e=Object(v.useParams)().userID,t=F().services,a=Object(v.useLocation)().search,s=new URLSearchParams(a).get("text"),c=k.a.useForm(),u=Object(l.a)(c,1)[0],p=Object(v.useHistory)();Object(r.useEffect)(function(){u.setFieldsValue({type:"QA",numbers:2})},[]);var m=Object(V.useState)({isQA:!0}),f=Object(l.a)(m,2),h=f[0],d=f[1],b=function(){var a=Object(o.a)(i.a.mark(function a(r){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.question.Create(Object(T.a)({},r,{user_id:e}));case 2:200===a.sent.status&&(O.b.success("\u63d0\u554f\u6210\u529f"),p.push("/dashboard"));case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}();return n.a.createElement(g.a,{className:"center-vertical"},n.a.createElement(g.a,{className:"center-left"},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Separator,null),n.a.createElement(Q.a.Item,{onClick:function(){return p.push("/dashboard")}},"\u8fd4\u56de\u4e3b\u9801"))),n.a.createElement(g.a,{className:"center-vertical"},n.a.createElement("h1",{style:{textAlign:"center"}},"\u554f: ",s),n.a.createElement(k.a,{form:u,style:{width:600},onFinish:b},n.a.createElement(k.a.Item,{name:"title",label:"\u984c\u76ee",rules:[{required:!0,message:"\u8f38\u5165\u984c\u76ee\u5167\u5bb9"}]},n.a.createElement(j.a,null)),n.a.createElement(k.a.Item,{name:"type",label:"\u9078\u64c7"},n.a.createElement(U.a.Group,{optionType:"button",options:[{label:"\u5feb\u554f\u5feb\u7b54",value:"QA"},{label:"\u6b98\u9177\u4e8c\u9078\u4e00",value:"OP"}],onChange:function(e){return d(function(t){return Object(T.a)({},t,{isQA:"QA"===e.target.value})})}})),!h.isQA&&[1,2].map(function(e){return n.a.createElement(k.a.Item,{label:"\u9078\u9805 ".concat(e),name:"option".concat(e),rules:[{required:!0,message:"\u8f38\u5165\u9078\u9805".concat(e,"\u5167\u5bb9")}]},n.a.createElement(j.a,null))}),n.a.createElement(I.a,{style:{width:"100%"},type:"primary",onClick:function(){return u.submit()}},"\u63d0\u4ea4"))))};var J=function(){var e=Object(v.useParams)().questionID,t=k.a.useForm(),a=Object(l.a)(t,1)[0],s=Object(v.useHistory)(),c=F().services,u=Object(v.useLocation)().search,p=new URLSearchParams(u).get("text"),m=Object(V.useState)({isLoading:!0,isQA:!0}),f=Object(l.a)(m,2),h=f[0],d=f[1];Object(r.useEffect)(Object(o.a)(i.a.mark(function t(){var r;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.question.GetQuestions({question_id:e});case 2:200===(r=t.sent).status&&(a.setFieldsValue(r.data.data),d({isLoading:!1,isQA:"QA"===r.data.data.type}));case 4:case"end":return t.stop()}},t)})),[]);var b=function(){var t=Object(o.a)(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.question.Update(Object(T.a)({},a,{question_id:e}));case 2:200===t.sent.status&&(O.b.success("\u7de8\u8f2f\u6210\u529f"),s.push("/dashboard"));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(o.a)(i.a.mark(function t(a){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.question.Delete({question_id:e});case 2:200===t.sent.status&&(O.b.info("\u63d0\u554f\u5df2\u522a\u9664"),s.push("/dashboard"));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return n.a.createElement(g.a,{className:"center-vertical"},n.a.createElement(x.a,{spinning:h.isLoading},n.a.createElement(g.a,{className:"center-left"},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Separator,null),n.a.createElement(Q.a.Item,{onClick:function(){return s.push("/")}},"\u8fd4\u56de\u4e3b\u9801"))),n.a.createElement(g.a,{className:"center-vertical"},n.a.createElement("h1",{style:{textAlign:"center"}},"\u554f: ",p),n.a.createElement(k.a,{form:a,style:{width:600},onFinish:b},n.a.createElement(k.a.Item,{name:"title",label:"\u984c\u76ee",rules:[{required:!0,message:"\u8f38\u5165\u984c\u76ee\u5167\u5bb9"}]},n.a.createElement(j.a,null)),n.a.createElement(k.a.Item,{name:"type",label:"\u9078\u64c7"},n.a.createElement(U.a.Group,{optionType:"button",options:[{label:"\u5feb\u554f\u5feb\u7b54",value:"QA"},{label:"\u6b98\u9177\u4e8c\u9078\u4e00",value:"OP"}],onChange:function(e){return d(function(t){return Object(T.a)({},t,{isQA:"QA"===e.target.value})})}})),!h.isQA&&[1,2].map(function(e){return n.a.createElement(k.a.Item,{label:"\u9078\u9805 ".concat(e),name:"option".concat(e),rules:[{required:!0,message:"\u8f38\u5165\u9078\u9805".concat(e,"\u5167\u5bb9")}]},n.a.createElement(j.a,null))}),n.a.createElement(g.a,null,n.a.createElement(z.a,{span:11},n.a.createElement(I.a,{type:"primary",onClick:function(){return a.submit()},style:{width:"100%"}},"\u63d0\u4ea4")),n.a.createElement(z.a,{offset:2,span:11},n.a.createElement(I.a,{type:"primary",onClick:E,style:{width:"100%"},danger:!0},"\u522a\u9664")))))))},M=a(295);var K=function(){var e=F().services,t=[{title:"\u4f7f\u7528\u8005\u540d\u7a31",dataIndex:"username",width:150},{title:"\u984c\u76ee",width:300,render:function(e){return"QA"===e.type?e.title:"".concat(e.title,": 1.").concat(e.option1," 2.").concat(e.option2)}},{title:"\u5275\u5efa\u6642\u9593",width:180,render:function(e){var t=e.create_time;return new Date(t).toLocaleString()}},{title:"\u8a55\u5206",width:180,render:function(t){var a=t._id,r=t.rate;return n.a.createElement(M.a,{defaultValue:r,onChange:function(){var t=Object(o.a)(i.a.mark(function t(r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.question.GiveRate({question_id:a,rate:r});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()})}},{title:"\u7e3d\u8a55",dataIndex:"avarage",width:50}],a=Object(r.useState)(!0),s=Object(l.a)(a,2),c=s[0],u=s[1],p=Object(r.useState)([]),m=Object(l.a)(p,2),f=m[0],h=m[1];return Object(r.useEffect)(Object(o.a)(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.question.GetReviews();case 2:200===(a=t.sent).status&&(h(a.data.data),u(!1));case 4:case"end":return t.stop()}},t)})),[]),n.a.createElement(g.a,null,n.a.createElement(z.a,{span:23},n.a.createElement(D.a,{title:function(){return n.a.createElement("h2",null,"\u8a55\u8ad6\u5340")},loading:c,dataSource:f,columns:t,scroll:{y:400}})))},W=w.a.Content;var X=function(){var e=Object(v.useParams)().token,t=F().services,a=k.a.useForm(),s=Object(l.a)(a,1)[0],c=Object(v.useHistory)(),u=Object(r.useState)({status:"verifying",isLoading:!0}),p=Object(l.a)(u,2),m=p[0],f=p[1];Object(r.useEffect)(Object(o.a)(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.user.Active(e);case 2:if(200!==a.sent.status){a.next=7;break}return O.b.success("\u5e33\u6236\u9a57\u8b49\u6210\u529f"),c.push("/"),a.abrupt("return");case 7:f({status:"failed",isLoading:!1});case 8:case"end":return a.stop()}},a)})),[e]);var h=function(){var e=Object(o.a)(i.a.mark(function e(a){var r,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.email,e.next=3,t.user.Resend(r);case 3:if(200!==(n=e.sent).status){e.next=7;break}return O.b.success("\u9a57\u8b49\u4fe1\u5df2\u5bc4\u51fa"),e.abrupt("return");case 7:O.b.error(n.data.data);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(W,null,n.a.createElement(g.a,{className:"center-left"},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Separator,null),n.a.createElement(Q.a.Item,{onClick:function(){return c.push("/")}},"\u8fd4\u56de\u4e3b\u9801"))),n.a.createElement(g.a,{className:"center-vertical"},n.a.createElement(x.a,{spinning:m.isLoading},"failed"===m.status&&n.a.createElement(k.a,{form:s,style:{width:350},onFinish:h},n.a.createElement(k.a.Item,{name:"email",label:"\u4fe1\u7bb1",rules:[{required:!0,message:"\u8acb\u8f38\u4f60\u7684\u4fe1\u7bb1"},{type:"email",message:"\u8f38\u5165\u4fe1\u7bb1\u683c\u5f0f\u932f\u8aa4"}]},n.a.createElement(j.a,null)),n.a.createElement(I.a,{style:{width:"100%"},type:"primary",onClick:function(){return s.submit()}},"\u5bc4\u51fa\u9a57\u8b49\u4fe1")))))},Y=w.a.Content;var Z=function(){var e=F().services,t=k.a.useForm(),a=Object(l.a)(t,1)[0],r=Object(v.useHistory)(),s=function(){var t=Object(o.a)(i.a.mark(function t(a){var r,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.email,t.next=3,e.user.Remind(r);case 3:if(200!==(n=t.sent).status){t.next=7;break}return O.b.success("\u5bc6\u78bc\u4fe1\u5df2\u5bc4\u51fa"),t.abrupt("return");case 7:O.b.error(n.data.data);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return n.a.createElement(Y,null,n.a.createElement(g.a,{className:"center-left"},n.a.createElement(Q.a,null,n.a.createElement(Q.a.Separator,null),n.a.createElement(Q.a.Item,{onClick:function(){return r.push("/")}},"\u8fd4\u56de\u767b\u5165\u9801\u9762"))),n.a.createElement(g.a,{className:"center-vertical"},n.a.createElement(k.a,{form:a,style:{width:350},onFinish:s},n.a.createElement(k.a.Item,{name:"email",label:"\u4fe1\u7bb1",rules:[{required:!0,message:"\u8acb\u8f38\u4f60\u7684\u4fe1\u7bb1"},{type:"email",message:"\u8f38\u5165\u4fe1\u7bb1\u683c\u5f0f\u932f\u8aa4"}]},n.a.createElement(j.a,null)),n.a.createElement(I.a,{style:{width:"100%"},type:"primary",onClick:function(){return a.submit()}},"\u63d0\u4ea4"))))},$=w.a.Content;function ee(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(v.Route,{exact:!0,path:"/"},n.a.createElement(N,null)),n.a.createElement(v.Route,{exact:!0,path:"/signup"},n.a.createElement(G,null)),n.a.createElement(v.Route,{exact:!0,path:"/verify/:token"},n.a.createElement(X,null)),n.a.createElement(v.Route,{exact:!0,path:"/remind"},n.a.createElement(Z,null)))}function te(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(v.Route,{exact:!0,path:"/dashboard"},n.a.createElement(H,null)),n.a.createElement(v.Route,{exact:!0,path:"/review"},n.a.createElement(K,null)),n.a.createElement(v.Route,{exact:!0,path:"/new/:userID"},n.a.createElement(B,null)),n.a.createElement(v.Route,{exact:!0,path:"/edit/:questionID"},n.a.createElement(J,null)),n.a.createElement(v.Route,null,n.a.createElement(v.Redirect,{to:"/dashboard"})))}var ae=function(){var e=b(),t=e.isLogin,a=e.logout;return n.a.createElement(E.a,null,n.a.createElement(w.a,{style:{height:"100%"}},n.a.createElement(y.a,{theme:"dark",mode:"horizontal"},n.a.createElement(y.a.Item,{key:"1"},n.a.createElement(E.b,{to:t?"/dashboard":"/"},n.a.createElement("h1",{style:{color:"white"}},"SOLab"))),t&&n.a.createElement(n.a.Fragment,null,n.a.createElement(y.a.Item,{key:"2"},n.a.createElement(E.b,{to:"/dashboard"},"\u63d0\u554f\u5340")),n.a.createElement(y.a.Item,{key:"3"},n.a.createElement(E.b,{to:"/review"},"\u8a55\u8ad6\u5340")),n.a.createElement(y.a.Item,{key:"4",style:{position:"absolute",right:0,height:58}},n.a.createElement(E.b,{onClick:function(){window.location.pathname="/",a()},to:"/"},"\u767b\u51fa")))),n.a.createElement($,{className:"center-vertical"},n.a.createElement(v.Switch,null,!t&&n.a.createElement(ee,null),t&&n.a.createElement(te,null),n.a.createElement(v.Route,null,n.a.createElement(x.a,null))))))};a(286);var re=function(){return n.a.createElement(d,null,n.a.createElement(ae,null))};c.a.render(n.a.createElement(r.StrictMode,null,n.a.createElement(re,null)),document.getElementById("root"))},215:function(e,t,a){e.exports=a(207)},286:function(e,t,a){}},[[215,2,1]]]);
//# sourceMappingURL=main.a6cfe19e.chunk.js.map